<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Binary Trading Signal Bot</title>
</head>
<body style="background-color: black; color: white; font-family: Arial, sans-serif; text-align: center; padding-top: 50px;">  
  <h1>Binary Trading Signal Bot</h1>

  <label for="currency">Select Currency Pair:</label><br> 
  <select id="currency"> 
    <option value="USD">USD</option> 
    <option value="EUR">EUR</option> 
    <option value="GBP">GBP</option> 
    <option value="JPY">JPY</option> 
  </select><br><br>

  <label for="timeframe">Select Timeframe:</label><br> 
  <select id="timeframe"> 
    <option value="1">1 Minute</option> 
    <option value="3">3 Minutes</option> 
    <option value="5">5 Minutes</option> 
  </select><br><br>

  <button onclick="getSignal()" style="padding: 10px 20px; font-size: 16px;">Get Signal</button>

  <h2 id="signal" style="margin-top: 40px;"></h2>

  <script>
    async function fetchExchangeRate(from) {
      try {
        const response = await fetch(`https://api.unirateapi.com/api/rates?api_key=3qnkZTTviZbpc1XECRocSnu3xDOmC7WhFY7vaAzuWjG61ygMWIvroLBPKB4MGszt&from=${from}`);
        const data = await response.json();
        return data.data;
      } catch (error) {
        console.error('Error fetching exchange rate:', error);
        return null;
      }
    }

    async function getSignal() {
      const fromCurrency = document.getElementById('currency').value;
      const timeframe = parseInt(document.getElementById('timeframe').value);

      document.getElementById('signal').innerText = 'Loading...'; // Signal load වෙනකන් text එක දාමු

      // දැන් data request කරන්න
      const rates = await fetchExchangeRate(fromCurrency);
      if (!rates) {
        document.getElementById('signal').innerText = 'Error fetching data.';
        return;
      }

      // Random basic signal logic (mock AI strategy)
      const random = Math.random();
      let signal = random > 0.5 ? 'BUY' : 'SELL';

      document.getElementById('signal').innerText = `Signal: ${signal} (${fromCurrency} - ${timeframe}m)`;
    }
  </script>
</body>
</html>